<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Dimasos University - Регистрация</title>

    <!-- Bootstrap 4 -->
    <link rel="stylesheet" type="text/css" href="webjars/bootstrap/4.0.0-1/css/bootstrap.min.css"/>

    <!-- FA 5 -->
    <link rel="stylesheet" href="webjars/font-awesome/5.0.6/web-fonts-with-css/css/fontawesome-all.min.css"/>

    <!-- My styles -->
    <link rel="stylesheet" th:href="@{/css/styles.css}"
          href="../static/css/styles.css"/>
</head>
<body>
<header th:replace="fragments/header :: head"></header>
<section id="register">
    <div class="register-form-container">
        <div class="register-form">
            <div class="auth-logo">
                <img src="../static/img/DimasosLogo.png" th:src="@{/img/DimasosLogo.png}" alt="">
            </div>
            <div class="form-content">
                <div th:if="${param.success}">
                    <div class="alert alert-info">
                        Ого. Успешная регистрация подъехала. Теперь вы можете сполна насладиться контентом данного
                        сайта. Но это не точно...
                    </div>
                </div>
                <form th:action="@{/registration}" th:object="${user}" method="post">
                    <p class="error-message alert alert-warning"
                       th:if="${#fields.hasGlobalErrors()}"
                       th:each="error : ${#fields.errors('global')}"
                       th:text="${error}">Что-то пошло не так</p>

                    <div class="form-group">
                        <label for="firstName">Имя</label>
                        <input type="text" class="form-control"
                               th:classappend="${#fields.hasErrors('firstName')}? 'is-invalid':''"
                               th:field="*{firstName}" id="firstName" placeholder="Имя" required>
                        <div class="invalid-feedback" th:each="error: ${#fields.errors('firstName')}"
                             th:text="${error}">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="lastName">Фамилия</label>
                        <input type="text" class="form-control"
                               th:classappend="${#fields.hasErrors('lastName')}? 'is-invalid':''"
                               th:field="*{lastName}" id="lastName" placeholder="Фамилия" required>
                        <div class="invalid-feedback" th:each="error: ${#fields.errors('lastName')}"
                             th:text="${error}">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="faculty">Факультет</label>
                        <select class="custom-select" id="faculty" th:field="*{faculty}"
                                th:classappend="${#fields.hasErrors('faculty')}? 'is-invalid':''" required>
                            <option value="">Выберите факультет</option>
                            <option th:each="facultys : ${facultys}" th:value="${facultys.id}"
                                    th:text="${facultys.faculty}">
                            </option>
                        </select>
                        <div class="invalid-feedback" th:each="error: ${#fields.errors('faculty')}"
                             th:text="${error}">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email">E-mail</label>
                        <input type="text" class="form-control"
                               th:classappend="${#fields.hasErrors('email')}? 'is-invalid':''"
                               th:field="*{email}" id="email" placeholder="Фамилия" required>
                        <div class="invalid-feedback" th:each="error: ${#fields.errors('email')}"
                             th:text="${error}">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="password">Пароль</label>
                        <input type="password" class="form-control"
                               th:classappend="${#fields.hasErrors('password')}? 'is-invalid':''"
                               th:field="*{password}" id="password" required>
                        <div class="invalid-feedback" th:each="error: ${#fields.errors('password')}"
                             th:text="${error}">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">Пароль</label>
                        <input type="password" class="form-control"
                               th:classappend="${#fields.hasErrors('confirmPassword')}? 'is-invalid':''"
                               th:field="*{confirmPassword}" id="confirmPassword" required>
                        <div class="invalid-feedback" th:each="error: ${#fields.errors('confirmPassword')}"
                             th:text="${error}">
                        </div>
                    </div>

                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input"
                               th:classappend="${#fields.hasErrors('terms')}? 'is-invalid':''" id="terms"
                               th:field="*{terms}" required>
                        <label class="custom-control-label" for="terms">
                            Я согласен с <a href="#">правилами университета</a>
                        </label>
                        <div class="invalid-feedback"
                             th:each="error : ${#fields.errors('terms')}"
                             th:text="${error}">
                        </div>
                    </div>

                    <button type="submit" class="btn btn-success mt-3 mb-3">Зарегистрироваться</button>
                    <span>Уже зарегистрированы? <a href="/" th:href="@{/login}">Авотризация</a></span>
                </form>
            </div>
        </div>
    </div>
</section>
<div th:replace="fragments/footer :: scripts"></div>
</body>
</html>